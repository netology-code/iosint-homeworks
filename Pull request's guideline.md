## Pull requests' guideline

**Мы переходим к сдаче домашних заданий через pull request, начиная с курса «IOSINT (Промышленная разработка)».**

**Pull request** — это запрос на вливание изменений из вашей ветки в основную ветку исходного репозитория.

#### Для чего нужен pull request
* Когда вы начнёте работать в командах над каким-либо продуктом, чаще всего все новые функции в приложении будут попадать в него только после проверки вашего кода другими членами команды (code review).
* Это дисциплинирует писать хороший код, а главное — просматривать и редактировать плохие решения самому. Когда вы разрабатываете какие-то функции в приложении, вы не всегда можете заметить недочёты, тогда как в пул-реквесте можно просмотреть весь написанный код, и если вам что-то не понравится в нём, то сможете внести правки до того, как эта функция попадёт в основную ветку.

#### Git-flow

Чтобы научиться правильно пользоваться инструментом pull request, нужно освоить git-flow. **Git-flow** — методология работы с Git, то есть в ней определяется, какие виды веток необходимы проекту и как выполнять слияние между ними. 

* Работа с git-flow заключается в разделении веток на master, develop, features, hotfix и т. д. 
* В ветке master, или main, всегда хранятся только протестированные, готовые к релизу или уже выложенные версии программы. 
* В ветке develop хранятся промежуточные результаты разработки. 
* Ветки feature/… создаются для разработки новых функций. 
* В hotfix ветках делаются правки уже готовых функций. 

[Подробнее о ветвлениях](https://nvie.com/posts/a-successful-git-branching-model).

[Подробнее о git-flow](https://danielkummer.github.io/git-flow-cheatsheet/index.ru_RU.html).

**Как это использовать для домашних заданий**
Необходимо для каждого модуля создавать свой репозиторий. Например, работа с многопоточностью — отдельный репозиторий, работа с сетью — другой репозиторий и т. д.

**Пошаговый алгоритм**
1. Создание репозитория. Перейдите на `github` и создайте репозиторий с названием модуля, например, multithreading.
2. Склонируйте репозиторий к себе на компьютер.
3. Создайте ветку master (main), а затем от неё создайте ветку develop. Примечание: все следующие ветки будут создаваться от ветки develop. Делаете push каждой ветки.
4. От ветки develop создайте ветку с названием вашей домашней работы. Будем считать, что это функциональность вашей программы, поэтому к названию добавим feature. В итоге получится что-то типа ```feature/task-1/initial```. И также, как раньше, делайте push.
Примечание: для вашего удобства просмотра и редактирования конечной работы каждое задание будем разделять на две ветки: 1 — initial, 2 — implementation, или сокращённо impl. Это делается для того, чтобы потом в пул-реквесте не было по 200 изменённых файлов.
5. В ветку initial добавьте все файлы, которые в будущем понадобятся для выполнения домашнего задания. Например, проект для дальнейшей реализации.
6. Сделайте коммиты с изменениями.
7. Создайте от ветки initial ветку implementation, например, ```feature/task-1/implementation```.
8. Выполните домашнее задание, сопровождая всю работу исчерпывающими коммитами, и сделайте push изменений на GitHub.
9. Перейдите на GitHub, далее на вкладку pull requests. 
![](pic/1.png)

10. Выберите New pull request.
![](pic/2.png)

11. Выберите ветки для создания запроса на pull. 
В поле compare выберите вашу ветку с реализацией, например, feature/task-1/implementation. 
В поле base выберите ветку, куда будете вливать свои изменения, в нашем случае это initial, например, feature/task-1/initial.
![](pic/3.png)

12. Прокрутите страницу вниз и просмотрите свой код ещё раз: он должен быть чистым, не должно быть закомментированного кода, съехавшего кода и лишних отступов. 
Если во время просмотра кода у вас появятся мысли по улучшению решения, то не спешите закрывать Гит — вы можете внести изменения у себя в Xcode, сделать коммит и пуш, а затем обновить страницу на GitHub.
13. После проверки кода нажмите Create pull request, запишите название, что и куда собираетесь влить. В комментарии можно добавить пояснение к работе (не обязательно). После этого снова нажмите Create pull request.
14. Далее скопируйте ссылку на pull request и отправьте её во вложениях в домашней работе.


[Подробнее про работу pull requests](https://docs.github.com/en/free-pro-team@latest/github/collaborating-with-issues-and-pull-requests/about-pull-requests).

[Видеоинструкция по работе в терминале от аспиранта курса Алексея Бардина](https://youtu.be/o0RaC43uGPY).



