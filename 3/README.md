# Домашнее задание к занятию «Внедрение зависимостей в iOS»

В этой работе вы потренируете свои навыки по созданию классов, связанных друг с другом зависимостями, реализующими совместную бизнес-логику с передачей информации. Код этого задания будет активно использоваться в последующих домашних работах до момента завершения курса. Умение связывать классы хорошо продуманными и логичными зависимостями — один из самых важных навыков промышленного программиста.

Цель этого домашнего задания — подключить сервис по проверке логина для авторизации и, в случае успеха, входа на экран профиля пользователя с отображением информации о нём. В следующем домашнем задании мы добавим в процесс авторизации использование пароля.

## Правила выполнения домашней работы:

* При сдаче домашнего задания в поле для сдачи работы прикрепите ссылку на pull request с кодом на проверку внутри вашего проекта в Git.
* Все задачи обязательны к выполнению для получения зачёта, кроме задач со звёздочкой.
* Любые вопросы по решению задач задавайте в чате учебной группы.

## Задача 1

Для выполнения этой работы используйте вариант вашего приложения **после завершения первой работы этого модуля «Структура проекта и жизненный цикл приложения» без обновлений**, сделанных в предыдущей работе по менеджерам зависимостей Cocoapods и Swift Package Manager. Вы уже изучили эту тему и сможете самостоятельно использовать полученные знания в своих будущих проектах.

1. Добавьте новый класс `User` для хранения информации о пользователе со свойствами: логин, полное имя, аватар, статус. Типы для свойств — `String`, за исключением аватара, который должен иметь тип `UIImage`.
2. Добавьте новый протокол `UserService` с функцией, которая в качестве аргумента принимает логин и возвращает объект класса `User?`. То есть, в случае неверного логина, пользователь не будет авторизован.
3. Добавьте новый класс `CurrentUserService`, который поддерживает протокол `UserService`. Класс должен хранить объект класса `User` и возвращать его в функции, реализующей протокол, если, конечно, переданный логин соответствует логину имени пользователя. Подумайте, как инициализировать класс CurrentUserService со свойством — экземпляром класса User.
4. В существующий класс `ProfileViewController` добавьте свойство типа `User` и сделайте отображение этой информации на экране профиля, включая изображение аватара.
5. В класс `LoginViewController` добавьте функциональность получения информации о пользователе, используя логин через `CurrentUserService` и передачу этой информации в `ProfileViewController`.
6. Проверьте, что ваша новая функциональность работает: если введён корректный логин, то информация о пользователе передаётся на экран профиля и там отображается. Если логин неверный, то должно выводиться сообщение о некорректных данных и перехода на профиль в этом случае **не должно** происходить.


## Задача 2

1. Смоделируем случай, когда в схеме `Debug`, которая была создана по результатам первой домашней работы, вводится тестовый логин.
2. Добавьте новый класс `TestUserService`, который также поддерживает протокол `UserService`. Класс должен хранить объект класса `User` с тестовыми данными и возвращать его в реализации протокола.
3. С помощью флага компиляции `#DEBUG` сделайте проверку текущей схемы и в зависимости от сборки `Release` или `Debug` при проверке логина передавайте в `ProfileViewController` пользователя, полученного через сервис `CurrentUserService` или `TestUserService`. Используйте возможности полиморфного поведения объектов, обеспечиваемых протокольно-ориентированным программированием.
4. Проверьте, что теперь в профиль передаётся корректная информация в зависимости от сборки Release или Debug.
