# Домашнее задание к занятию "Структурные паттерны: Observer, Facade"

Продолжаем изучать паттерны в Swift для промышленной разработки. Сегодня на очереди Observer и Facade.

**Observer** - очень важный паттерн, который идеально использовать для передачи информации сквозь время и пространство в вашем приложении. Чтобы смоделировать этот паттерн вы будете использовать внешнюю библиотеку с учебным классом, который будет с задержкой поочередно добавлять изображения в вашем приложении.

Паттерн **Facade** вы в той или иной мере всегда используете, когда проектируете новые классы и структуры. Изучите как работает фасад в этом задании и делайте лучшие интерфейсы ваших собственных классов в последующих работах!

Для выполнения этой работы используйте приложение после завершения предыдущего задания №4.

## Правила выполнения домашней работы:

* Все задачи обязательны к выполнению для получения зачета, кроме задач со звездочкой.
* Изучите [инструкцию](https://github.com/netology-code/iosint-homeworks/blob/main/Pull%20request's%20guideline.md) по сдаче домашних заданий через Pull Request. В поле для сдачи работы прикрепите ссылку на ваш проект на Github.
* Любые вопросы по решению задач задавайте в чате учебной группы.

## Задача

1. Выберите ваш проект и в настройках через раздел `Package Dependencies` установите Swift Package по этой ссылке [Учебный Swift Package](https://github.com/TrueMax/iOSIntPackage)
2. Во время установки необходимо выбрать в строке Dependency Rule `branch == imagepublisher` 
3. В ветке `imagepublisher` лежит последний релиз пакета с папкой `ImagePublisher`. Если после установки вы не увидели эту папку в пакете, значит, вы установили пакет из ветки `main`. В таком случае вам нужно удалить текущую версию пакета и установить заново из правильной ветки `imagepublisher`
4. Завершив установку фреймворка необходимо подписать класс `PhotosViewController`на протокол `ImageLibrarySubscriber` и реализовать через `extension` его единственный метод.
5. Создайте для `PhotosViewController` экземпляр класса `ImagePublisherFacade`.
6. Изучите его интерфейс: кнопка "4 квадратика" слева вверху над кодом, далее "Counterparts" -> ... (Interface) 
7. Изучив, как устроен `ImagePublisherFacade` подпишите ваш класс `PhotosViewController` на изменения, которые будет генерировать этот publisher. Если ранее вы заполнили этот экран изображениями by default, то сейчас нужно будет это сделать используя паттерн **observer**, моделируя как это происходит при наполнении коллекции фото по сети с медленным подключением.
8. Запустите сценарий наполнения коллекции изображениями через метод `addImagesWithTimer`. Поставьте задержку времени не менее 0.5 секунд, чтобы визуально наблюдать как этот паблишер работает. Количество повторений `RepeatCount` нужно поставить более 10, чтобы вся коллекция постепенно заполнилась фото.
9. Где-то в подходящем методе (подумайте где!) необходимо отменить подписку, так как хорошее правило работы с подписками заключается в том, что если где-то в вашем приложении подписка добавлена, то где-то она должна быть потенциально завершена после окончания своей работы.
10. Запустите приложение и проверьте, что подписка работает и ваша коллекция поочередно наполняется изображениями.
